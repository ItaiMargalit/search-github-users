{"ast":null,"code":"var _jsxFileName = \"/Users/itaimargalit/src/search-github-users/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const [query, setQuery] = useState('');\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n  const [totalUsers, setTotalUsers] = useState(0);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [nextPageLoading, setNextPageLoading] = useState(false);\n  const handleSearch = async (reset = true) => {\n    try {\n      setLoading(true);\n      setUsers([]);\n      setPage(1);\n      const response = await fetch(`https://localhost:7175/api/githubsearch/search_github_users?q=${encodeURIComponent(query)}&page=1&per_page=50`);\n      if (!response.ok) {\n        throw new Error(`Error: ${response.status} ${response.statusText}`);\n      }\n      const data = await response.json();\n      console.log(\"Received data:\", data);\n      setTotalUsers(data.total_count);\n      setUsers(data.users || []);\n      setError(null);\n      setLoading(false);\n    } catch (err) {\n      console.error(\"Error fetching data:\", err);\n      setError(\"An error occurred while fetching data.\");\n      setUsers([]);\n      setLoading(false);\n    }\n  };\n  const loadNextPage = async () => {\n    try {\n      setNextPageLoading(true);\n      const nextPage = page + 1;\n      const response = await fetch(`https://localhost:7175/api/githubsearch/search_github_users?q=${encodeURIComponent(query)}&page=${nextPage}&per_page=50`, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUsers(prevUsers => [...prevUsers, ...data.users]);\n        setPage(nextPage);\n      }\n    } catch (err) {\n      console.error(\"Error loading next page:\", err);\n    } finally {\n      setNextPageLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (query) {\n      handleSearch();\n    }\n  }, [query]);\n  useEffect(() => {\n    const handleScroll = () => {\n      if (window.innerHeight + document.documentElement.scrollTop >= document.documentElement.offsetHeight - 100 && !nextPageLoading) {\n        loadNextPage();\n      }\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, [nextPageLoading, page]);\n  useEffect(() => {\n    const delayDebounce = setTimeout(() => {\n      setQuery(inputValue);\n    }, 500);\n    return () => clearTimeout(delayDebounce);\n  }, [inputValue]);\n  const handleInputChange = e => {\n    setInputValue(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"GitHub Users Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"By Itai Margalit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"total-users\",\n      children: [\"Total Users: \", totalUsers]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-input-container\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search GitHub users...\",\n        value: inputValue,\n        onChange: handleInputChange,\n        className: \"search-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-container\",\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => window.open(`https://github.com/${user.username}`, '_blank'),\n        className: \"user-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"badge\",\n          children: user.publicRepos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this), user.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.image,\n          alt: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-picture\",\n          children: \"No Picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"user-name\",\n          children: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this)]\n      }, user.username + user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading users...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"huW5FnRdaYamOD631gEpLSjxcI4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","App","_s","inputValue","setInputValue","query","setQuery","users","setUsers","error","setError","totalUsers","setTotalUsers","page","setPage","loading","setLoading","nextPageLoading","setNextPageLoading","handleSearch","reset","response","fetch","encodeURIComponent","ok","Error","status","statusText","data","json","console","log","total_count","err","loadNextPage","nextPage","headers","prevUsers","handleScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","addEventListener","removeEventListener","delayDebounce","setTimeout","clearTimeout","handleInputChange","e","target","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","style","color","map","user","onClick","open","username","publicRepos","image","src","alt","id","_c","$RefreshReg$"],"sources":["/Users/itaimargalit/src/search-github-users/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n    const [inputValue, setInputValue] = useState('');\n    const [query, setQuery] = useState('');\n    const [users, setUsers] = useState([]);\n    const [error, setError] = useState(null);\n    const [totalUsers, setTotalUsers] = useState(0);\n    const [page, setPage] = useState(1);\n    const [loading, setLoading] = useState(false);\n    const [nextPageLoading, setNextPageLoading] = useState(false);\n\n    const handleSearch = async (reset = true) => {\n        try {\n            setLoading(true);\n            setUsers([]);\n            setPage(1);\n\n            const response = await fetch(`https://localhost:7175/api/githubsearch/search_github_users?q=${encodeURIComponent(query)}&page=1&per_page=50`, );\n\n            if (!response.ok) {\n                throw new Error(`Error: ${response.status} ${response.statusText}`);\n            }\n\n            const data = await response.json();\n            console.log(\"Received data:\", data);\n\n            setTotalUsers(data.total_count);\n            setUsers(data.users || []);\n            setError(null);\n            setLoading(false);\n        } catch (err) {\n            console.error(\"Error fetching data:\", err);\n            setError(\"An error occurred while fetching data.\");\n            setUsers([]);\n            setLoading(false);\n        }\n    };\n\n    const loadNextPage = async () => {\n        try {\n            setNextPageLoading(true);\n            const nextPage = page + 1;\n            const response = await fetch(`https://localhost:7175/api/githubsearch/search_github_users?q=${encodeURIComponent(query)}&page=${nextPage}&per_page=50`, {\n                headers: {\n                    'Content-Type': 'application/json',\n                }\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                setUsers(prevUsers => [...prevUsers, ...data.users]);\n                setPage(nextPage);\n            }\n        } catch (err) {\n            console.error(\"Error loading next page:\", err);\n        } finally {\n            setNextPageLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        if (query) {\n            handleSearch();\n        }\n    }, [query]);\n\n    useEffect(() => {\n        const handleScroll = () => {\n            if (window.innerHeight + document.documentElement.scrollTop >= document.documentElement.offsetHeight - 100 && !nextPageLoading) {\n                loadNextPage();\n            }\n        };\n\n        window.addEventListener(\"scroll\", handleScroll);\n        return () => window.removeEventListener(\"scroll\", handleScroll);\n    }, [nextPageLoading, page]);\n\n    useEffect(() => {\n        const delayDebounce = setTimeout(() => {\n            setQuery(inputValue);\n        }, 500);\n\n        return () => clearTimeout(delayDebounce);\n    }, [inputValue]);\n\n    const handleInputChange = (e) => {\n        setInputValue(e.target.value);\n    };\n\n    return (\n        <div className=\"App\">\n            <h1>GitHub Users Search</h1>\n            <h2>By Itai Margalit</h2>\n\n            <p className=\"total-users\">Total Users: {totalUsers}</p>\n\n            <div className=\"search-input-container\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Search GitHub users...\"\n                    value={inputValue}\n                    onChange={handleInputChange}\n                    className=\"search-input\"\n                />\n            </div>\n\n            {error && <p style={{ color: 'red' }}>{error}</p>}\n\n            <div className=\"grid-container\">\n                {users.map((user) => (\n                    <div\n                        key={user.username + user.id}\n                        onClick={() => window.open(`https://github.com/${user.username}`, '_blank')}\n                        className=\"user-card\"\n                    >\n                        <div className=\"badge\">{user.publicRepos}</div>\n                        {user.image ? (\n                            <img src={user.image} alt={user.username} />\n                        ) : (\n                            <div className=\"no-picture\">No Picture</div>\n                        )}\n                        <p className=\"user-name\">{user.username}</p>\n                    </div>\n                ))}\n            </div>\n\n            {loading && <p>Loading users...</p>}\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}